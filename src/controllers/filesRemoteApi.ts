/**
 * Slack Web APILib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

import { ApiResponse, RequestOptions } from '../core.js';
import {
  DefaultSuccessTemplate,
  defaultSuccessTemplateSchema,
} from '../models/defaultSuccessTemplate.js';
import { number, optional, string } from '../schema.js';
import { BaseApi } from './baseApi.js';
import { DefaultErrorTemplateError } from '../errors/defaultErrorTemplateError.js';

export class FilesRemoteApi extends BaseApi {
  /**
   * Adds a file from a remote service
   *
   * @param token                   Authentication token. Requires scope: `remote_files:write`
   * @param externalId              Creator defined GUID for the file.
   * @param title                   Title of the file being shared.
   * @param filetype                type of file
   * @param externalUrl             URL of the remote file.
   * @param previewImage            Preview of the document via `multipart/form-data`.
   * @param indexableFileContents   A text file (txt, pdf, doc, etc.) containing textual search terms that
   *                                          are used to improve discovery of the remote file.
   * @return Response from the API call
   */
  async filesRemoteAdd(
    token?: string,
    externalId?: string,
    title?: string,
    filetype?: string,
    externalUrl?: string,
    previewImage?: string,
    indexableFileContents?: string,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<DefaultSuccessTemplate>> {
    const req = this.createRequest('POST', '/files.remote.add');
    const mapped = req.prepareArgs({
      token: [token, optional(string())],
      externalId: [externalId, optional(string())],
      title: [title, optional(string())],
      filetype: [filetype, optional(string())],
      externalUrl: [externalUrl, optional(string())],
      previewImage: [previewImage, optional(string())],
      indexableFileContents: [indexableFileContents, optional(string())],
    });
    req.header('Content-Type', 'application/x-www-form-urlencoded');
    req.form({
      token: mapped.token,
      external_id: mapped.externalId,
      title: mapped.title,
      filetype: mapped.filetype,
      external_url: mapped.externalUrl,
      preview_image: mapped.previewImage,
      indexable_file_contents: mapped.indexableFileContents,
    });
    req.defaultToError(DefaultErrorTemplateError, 'Typical error response');
    req.authenticate([{ slackAuth: true }]);
    return req.callAsJson(defaultSuccessTemplateSchema, requestOptions);
  }

  /**
   * Retrieve information about a remote file added to Slack
   *
   * @param token        Authentication token. Requires scope: `remote_files:read`
   * @param file         Specify a file by providing its ID.
   * @param externalId   Creator defined GUID for the file.
   * @return Response from the API call
   */
  async filesRemoteInfo(
    token?: string,
    file?: string,
    externalId?: string,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<DefaultSuccessTemplate>> {
    const req = this.createRequest('GET', '/files.remote.info');
    const mapped = req.prepareArgs({
      token: [token, optional(string())],
      file: [file, optional(string())],
      externalId: [externalId, optional(string())],
    });
    req.header('Content-Type', 'application/x-www-form-urlencoded');
    req.query('token', mapped.token);
    req.query('file', mapped.file);
    req.query('external_id', mapped.externalId);
    req.defaultToError(DefaultErrorTemplateError, 'Typical error response');
    req.authenticate([{ slackAuth: true }]);
    return req.callAsJson(defaultSuccessTemplateSchema, requestOptions);
  }

  /**
   * Retrieve information about a remote file added to Slack
   *
   * @param token        Authentication token. Requires scope: `remote_files:read`
   * @param channel      Filter files appearing in a specific channel, indicated by its ID.
   * @param tsFrom       Filter files created after this timestamp (inclusive).
   * @param tsTo         Filter files created before this timestamp (inclusive).
   * @param limit        The maximum number of items to return.
   * @param cursor       Paginate through collections of data by setting the `cursor` parameter to a
   *                               `next_cursor` attribute returned by a previous request's `response_metadata`.
   *                               Default value fetches the first "page" of the collection. See
   *                               [pagination](/docs/pagination) for more detail.
   * @return Response from the API call
   */
  async filesRemoteList(
    token?: string,
    channel?: string,
    tsFrom?: number,
    tsTo?: number,
    limit?: number,
    cursor?: string,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<DefaultSuccessTemplate>> {
    const req = this.createRequest('GET', '/files.remote.list');
    const mapped = req.prepareArgs({
      token: [token, optional(string())],
      channel: [channel, optional(string())],
      tsFrom: [tsFrom, optional(number())],
      tsTo: [tsTo, optional(number())],
      limit: [limit, optional(number())],
      cursor: [cursor, optional(string())],
    });
    req.header('Content-Type', 'application/x-www-form-urlencoded');
    req.query('token', mapped.token);
    req.query('channel', mapped.channel);
    req.query('ts_from', mapped.tsFrom);
    req.query('ts_to', mapped.tsTo);
    req.query('limit', mapped.limit);
    req.query('cursor', mapped.cursor);
    req.defaultToError(DefaultErrorTemplateError, 'Typical error response');
    req.authenticate([{ slackAuth: true }]);
    return req.callAsJson(defaultSuccessTemplateSchema, requestOptions);
  }

  /**
   * Remove a remote file.
   *
   * @param token        Authentication token. Requires scope: `remote_files:write`
   * @param file         Specify a file by providing its ID.
   * @param externalId   Creator defined GUID for the file.
   * @return Response from the API call
   */
  async filesRemoteRemove(
    token?: string,
    file?: string,
    externalId?: string,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<DefaultSuccessTemplate>> {
    const req = this.createRequest('POST', '/files.remote.remove');
    const mapped = req.prepareArgs({
      token: [token, optional(string())],
      file: [file, optional(string())],
      externalId: [externalId, optional(string())],
    });
    req.header('Content-Type', 'application/x-www-form-urlencoded');
    req.form({
      token: mapped.token,
      file: mapped.file,
      external_id: mapped.externalId,
    });
    req.defaultToError(DefaultErrorTemplateError, 'Typical error response');
    req.authenticate([{ slackAuth: true }]);
    return req.callAsJson(defaultSuccessTemplateSchema, requestOptions);
  }

  /**
   * Share a remote file into a channel.
   *
   * @param token        Authentication token. Requires scope: `remote_files:share`
   * @param file         Specify a file registered with Slack by providing its ID. Either this field or
   *                               `external_id` or both are required.
   * @param externalId   The globally unique identifier (GUID) for the file, as set by the app registering
   *                               the file with Slack.  Either this field or `file` or both are required.
   * @param channels     Comma-separated list of channel IDs where the file will be shared.
   * @return Response from the API call
   */
  async filesRemoteShare(
    token?: string,
    file?: string,
    externalId?: string,
    channels?: string,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<DefaultSuccessTemplate>> {
    const req = this.createRequest('GET', '/files.remote.share');
    const mapped = req.prepareArgs({
      token: [token, optional(string())],
      file: [file, optional(string())],
      externalId: [externalId, optional(string())],
      channels: [channels, optional(string())],
    });
    req.header('Content-Type', 'application/x-www-form-urlencoded');
    req.query('token', mapped.token);
    req.query('file', mapped.file);
    req.query('external_id', mapped.externalId);
    req.query('channels', mapped.channels);
    req.defaultToError(DefaultErrorTemplateError, 'Typical error response');
    req.authenticate([{ slackAuth: true }]);
    return req.callAsJson(defaultSuccessTemplateSchema, requestOptions);
  }

  /**
   * Updates an existing remote file.
   *
   * @param token                   Authentication token. Requires scope: `remote_files:write`
   * @param file                    Specify a file by providing its ID.
   * @param externalId              Creator defined GUID for the file.
   * @param title                   Title of the file being shared.
   * @param filetype                type of file
   * @param externalUrl             URL of the remote file.
   * @param previewImage            Preview of the document via `multipart/form-data`.
   * @param indexableFileContents   File containing contents that can be used to improve searchability for
   *                                          the remote file.
   * @return Response from the API call
   */
  async filesRemoteUpdate(
    token?: string,
    file?: string,
    externalId?: string,
    title?: string,
    filetype?: string,
    externalUrl?: string,
    previewImage?: string,
    indexableFileContents?: string,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<DefaultSuccessTemplate>> {
    const req = this.createRequest('POST', '/files.remote.update');
    const mapped = req.prepareArgs({
      token: [token, optional(string())],
      file: [file, optional(string())],
      externalId: [externalId, optional(string())],
      title: [title, optional(string())],
      filetype: [filetype, optional(string())],
      externalUrl: [externalUrl, optional(string())],
      previewImage: [previewImage, optional(string())],
      indexableFileContents: [indexableFileContents, optional(string())],
    });
    req.header('Content-Type', 'application/x-www-form-urlencoded');
    req.form({
      token: mapped.token,
      file: mapped.file,
      external_id: mapped.externalId,
      title: mapped.title,
      filetype: mapped.filetype,
      external_url: mapped.externalUrl,
      preview_image: mapped.previewImage,
      indexable_file_contents: mapped.indexableFileContents,
    });
    req.defaultToError(DefaultErrorTemplateError, 'Typical error response');
    req.authenticate([{ slackAuth: true }]);
    return req.callAsJson(defaultSuccessTemplateSchema, requestOptions);
  }
}
