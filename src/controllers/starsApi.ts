/**
 * Slack Web APILib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

import { ApiResponse, RequestOptions } from '../core.js';
import {
  StarsAddSchema,
  starsAddSchemaSchema,
} from '../models/starsAddSchema.js';
import {
  StarsListSchema,
  starsListSchemaSchema,
} from '../models/starsListSchema.js';
import {
  StarsRemoveSchema,
  starsRemoveSchemaSchema,
} from '../models/starsRemoveSchema.js';
import { number, optional, string } from '../schema.js';
import { BaseApi } from './baseApi.js';
import { StarsAddErrorSchemaError } from '../errors/starsAddErrorSchemaError.js';
import { StarsListErrorSchemaError } from '../errors/starsListErrorSchemaError.js';
import { StarsRemoveErrorSchemaError } from '../errors/starsRemoveErrorSchemaError.js';

export class StarsApi extends BaseApi {
  /**
   * Adds a star to an item.
   *
   * @param token        Authentication token. Requires scope: `stars:write`
   * @param channel      Channel to add star to, or channel where the message to add star to was posted
   *                               (used with `timestamp`).
   * @param file         File to add star to.
   * @param fileComment  File comment to add star to.
   * @param timestamp    Timestamp of the message to add star to.
   * @return Response from the API call
   */
  async starsAdd(
    token: string,
    channel?: string,
    file?: string,
    fileComment?: string,
    timestamp?: string,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<StarsAddSchema>> {
    const req = this.createRequest('POST', '/stars.add');
    const mapped = req.prepareArgs({
      token: [token, string()],
      channel: [channel, optional(string())],
      file: [file, optional(string())],
      fileComment: [fileComment, optional(string())],
      timestamp: [timestamp, optional(string())],
    });
    req.header('token', mapped.token);
    req.header('Content-Type', 'application/x-www-form-urlencoded');
    req.form({
      channel: mapped.channel,
      file: mapped.file,
      file_comment: mapped.fileComment,
      timestamp: mapped.timestamp,
    });
    req.defaultToError(StarsAddErrorSchemaError, 'Typical error response');
    req.authenticate([{ slackAuth: true }]);
    return req.callAsJson(starsAddSchemaSchema, requestOptions);
  }

  /**
   * Lists stars for a user.
   *
   * @param token        Authentication token. Requires scope: `stars:read`
   * @param count
   * @param page
   * @param cursor       Parameter for pagination. Set `cursor` equal to the `next_cursor` attribute
   *                               returned by the previous request's `response_metadata`. This parameter is optional,
   *                               but pagination is mandatory: the default value simply fetches the first "page" of
   *                               the collection. See [pagination](/docs/pagination) for more details.
   * @param limit        The maximum number of items to return. Fewer than the requested number of items may
   *                               be returned, even if the end of the list hasn't been reached.
   * @return Response from the API call
   */
  async starsList(
    token?: string,
    count?: string,
    page?: string,
    cursor?: string,
    limit?: number,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<StarsListSchema>> {
    const req = this.createRequest('GET', '/stars.list');
    const mapped = req.prepareArgs({
      token: [token, optional(string())],
      count: [count, optional(string())],
      page: [page, optional(string())],
      cursor: [cursor, optional(string())],
      limit: [limit, optional(number())],
    });
    req.header('Content-Type', 'application/x-www-form-urlencoded');
    req.query('token', mapped.token);
    req.query('count', mapped.count);
    req.query('page', mapped.page);
    req.query('cursor', mapped.cursor);
    req.query('limit', mapped.limit);
    req.defaultToError(StarsListErrorSchemaError, 'Typical error response');
    req.authenticate([{ slackAuth: true }]);
    return req.callAsJson(starsListSchemaSchema, requestOptions);
  }

  /**
   * Removes a star from an item.
   *
   * @param token        Authentication token. Requires scope: `stars:write`
   * @param channel      Channel to remove star from, or channel where the message to remove star from was
   *                               posted (used with `timestamp`).
   * @param file         File to remove star from.
   * @param fileComment  File comment to remove star from.
   * @param timestamp    Timestamp of the message to remove star from.
   * @return Response from the API call
   */
  async starsRemove(
    token: string,
    channel?: string,
    file?: string,
    fileComment?: string,
    timestamp?: string,
    requestOptions?: RequestOptions
  ): Promise<ApiResponse<StarsRemoveSchema>> {
    const req = this.createRequest('POST', '/stars.remove');
    const mapped = req.prepareArgs({
      token: [token, string()],
      channel: [channel, optional(string())],
      file: [file, optional(string())],
      fileComment: [fileComment, optional(string())],
      timestamp: [timestamp, optional(string())],
    });
    req.header('token', mapped.token);
    req.header('Content-Type', 'application/x-www-form-urlencoded');
    req.form({
      channel: mapped.channel,
      file: mapped.file,
      file_comment: mapped.fileComment,
      timestamp: mapped.timestamp,
    });
    req.defaultToError(StarsRemoveErrorSchemaError, 'Typical error response');
    req.authenticate([{ slackAuth: true }]);
    return req.callAsJson(starsRemoveSchemaSchema, requestOptions);
  }
}
